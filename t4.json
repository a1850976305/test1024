[
  {
  "id": "kanav",
  "name": "KanAV",
  "api": "https://kanav.info",
  "nsfw": true,
  "type": 1,
  "extra": {
    "gfw": false,
    "searchLimit": 12,
    "js": {
      "category": [
        {
          "text": "中文字幕",
          "id": "1"
        },
        {
          "text": "日韩有",
          "id": "2"
        },
        {
          "text": "日韩无",
          "id": "3"
        },
        {
          "text": "国产",
          "id": "4"
        },
        {
          "text": "自拍",
          "id": "30"
        },
        {
          "text": "探约",
          "id": "31"
        },
        {
          "text": "主播录制",
          "id": "32"
        },
        {
          "text": "动漫番剧",
          "id": "20"
        }
      ],
      "home": "const cate=env.get(\"category\");const page=env.get(\"page\");const url=`${env.baseUrl}/index.php/vod/type/id/${cate}/page/${page}.html`;const html=await req(url,{headers:{\"User-Agent\":\"Mozilla/5.0 (iPhone; CPU iPhone OS 18_2_1 like Mac OS X)AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.2 Mobile/15E148 Safari/604.1\"}});const $=kitty.load(html);const movies=[];$('.post-list .col-md-3').each((_,element)=>{const videoItem=$(element).find('.video-item');const entryTitle=$(element).find('.entry-title');const vodUrl=entryTitle.find('a').attr('href');const vodPic=videoItem.find('.featured-content-image a img').attr('data-original');const vodName=entryTitle.find('a').text().trim();const remark=videoItem.find('span.model-view-left').text().trim();const duration=videoItem.find('span.model-view').text().trim();const fullText=entryTitle.text().trim();const pubdate=fullText.replace(vodName,'').trim();movies.push({id:vodUrl??\"\",cover:vodPic??\"\",title:vodName,remark:remark,desc:`${duration}|${pubdate}`})});return movies",
      "detail": "function base64Decode(e){const t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";let n=\"\",r,i,s,a,o,u,l=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,\"\");l<e.length;)a=t.indexOf(e.charAt(l++)),o=t.indexOf(e.charAt(l++)),u=t.indexOf(e.charAt(l++)),l=t.indexOf(e.charAt(l++)),r=a<<2|o>>4,i=(15&o)<<4|u>>2,s=(3&u)<<6|l,n+=String.fromCharCode(r),64!=u&&(n+=String.fromCharCode(i)),64!=l&&(n+=String.fromCharCode(s));return n}const movieId=env.get(\"movieId\");const url=`${env.baseUrl}${movieId}`;const html=await req(url,{headers:{\"User-Agent\":\"Mozilla/5.0 (iPhone; CPU iPhone OS 18_2_1 like Mac OS X)AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.2 Mobile/15E148 Safari/604.1\"}});const $=kitty.load(html);const scriptContent=$('script').filter((_,el)=>{return $(el).html().includes('player_aaaa')}).html();if(!scriptContent){return{playlist:[{title:\"默认线路\",videos:[{text:\"播放\",id:url}]}]}};const playerMatch=scriptContent.match(/var player_aaaa\\s*=\\s*({[^;]+);/);if(!playerMatch){return{playlist:[{title:\"默认线路\",videos:[{text:\"播放\",id:url}]}]}};try{const playerStr=playerMatch[1].replace(/(\\w+):/g,'\"$1\":');const playerData=JSON.parse(playerStr);const encodedUrl=playerData.url;if(!encodedUrl){return{playlist:[{title:\"默认线路\",videos:[{text:\"播放\",id:url}]}]}};const base64Decoded=base64Decode(encodedUrl);const decodedUrl=decodeURIComponent(base64Decoded);return{playlist:[{title:\"默认线路\",videos:[{text:\"播放\",url:decodedUrl}]}]}}catch(error){return{playlist:[{title:\"默认线路\",videos:[{text:\"播放\",id:url}]}]}}",
      "search": "const keyword=env.get(\"keyword\");const page=env.get(\"page\");const encodedKeyword=encodeURIComponent(keyword);const url=`${env.baseUrl}/index.php/vod/search/by/time_add/page/${page}/wd/${encodedKeyword}.html`;const html=await req(url,{headers:{\"User-Agent\":\"Mozilla/5.0 (iPhone; CPU iPhone OS 18_2_1 like Mac OS X)AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.2 Mobile/15E148 Safari/604.1\"}});const $=kitty.load(html);const movies=[];$('.post-list .col-md-3').each((_,element)=>{const videoItem=$(element).find('.video-item');const entryTitle=$(element).find('.entry-title');const vodUrl=entryTitle.find('a').attr('href');const vodPic=videoItem.find('.featured-content-image a img').attr('data-original');const vodName=entryTitle.find('a').text().trim();const remark=videoItem.find('span.model-view-left').text().trim();const duration=videoItem.find('span.model-view').text().trim();const fullText=entryTitle.text().trim();const pubdate=fullText.replace(vodName,'').trim();movies.push({id:vodUrl??\"\",cover:vodPic??\"\",title:vodName,remark:remark,desc:`${duration}|${pubdate}`})});return movies",
      "parseIframe": "function base64Decode(e){const t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";let n=\"\",r,i,s,a,o,u,l=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,\"\");l<e.length;)a=t.indexOf(e.charAt(l++)),o=t.indexOf(e.charAt(l++)),u=t.indexOf(e.charAt(l++)),l=t.indexOf(e.charAt(l++)),r=a<<2|o>>4,i=(15&o)<<4|u>>2,s=(3&u)<<6|l,n+=String.fromCharCode(r),64!=u&&(n+=String.fromCharCode(i)),64!=l&&(n+=String.fromCharCode(s));return n}const iframe=env.get(\"iframe\");const html=await req(iframe);const $=kitty.load(html);const script=$(\"script\").toArray().filter(item=>{const text=$(item).text().trim();if(text.startsWith(\"var player_aaaa\"))return true})[0];if(!script){return\"\"};let code=$(script).text().trim().replace(\"var player_aaaa=\",\"\");code=`(${code})`;const unsafeObj=eval(code);if(unsafeObj.encrypt==\"1\"){unsafeObj.url=unescape(unsafeObj.url)}else if(unsafeObj.encrypt==\"2\"){const decoded=base64Decode(unsafeObj.url);unsafeObj.url=decodeURIComponent(decoded)}return unsafeObj.url"
    }
  }
},
  {
  "id": "jable",
  "name": "Jable",
  "api": "https://jable.tv",
  "nsfw": true,
  "type": 1,
  "extra": {
    "gfw": false,
    "searchLimit": 12,
    "js": {
      "category": "async function getTabs(){let list=[];let ignore=['首页'];function isIgnoreClassName(className){return ignore.some((element)=>className.includes(element))}let classurl=`${env.baseUrl}/categories/?mode=async&function=get_block&block_id=list_categories_video_categories_list&sort_by=avg_videos_popularity`;const html=await req(classurl,{headers:{\"User-Agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36\"}});if(html.includes('Just a moment...')){console.log('Cloudflare防护：分类获取被阻止');return[]}const $=kitty.load(html);let allClass=$('.container .col-6.col-sm-4.col-lg-3');allClass.each((_,e)=>{const name=$(e).find('h4').text();const href=$(e).find('a').attr('href');const isIgnore=isIgnoreClassName(name);if(isIgnore)return;list.push({text:name,id:href})});console.log('获取到的分类列表:', list);return list}return await getTabs()",
      "home": "const cate=env.get(\"category\");const page=env.get(\"page\");console.log('getHome: category='+cate+', page='+page);const url=env.baseUrl + cate + `?mode=async&function=get_block&block_id=list_videos_common_videos_list&sort_by=post_date&from=${page}&_=${Date.now()}`;console.log('请求URL:', url);const html=await req(url,{headers:{\"User-Agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36\",\"Cookie\":\"language=cn_CN\"}});if(html.includes('Just a moment...')){console.log('Cloudflare防护：首页列表获取被阻止');return[]}const $=kitty.load(html);const movies=[];$('#list_videos_common_videos_list .container .row > div').each((_,element)=>{const href=$(element).find('.title a').attr('href');const title=$(element).find('.title a').text();const cover=$(element).find('.img-box img').attr('data-src');const duration=$(element).find('.label').text();movies.push({id:href??\"\",cover:cover??\"\",title:title,remark:duration})});console.log('获取到的视频数量:', movies.length);return movies",
      "detail": "const movieId=env.get(\"movieId\");console.log('getDetail: movieId='+movieId);const url=env.baseUrl + movieId;console.log('详情页URL:', url);const html=await req(url,{headers:{\"User-Agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36\"}});if(html.includes('Just a moment...')){console.log('Cloudflare防护：详情页获取被阻止');return{playlist:[]}}const $=kitty.load(html);let script=$('#site-content .container .col').eq(0).find('section').eq(0).find('script:last').text();let playUrlMatch=script.match(/var hlsUrl = '(.*)';/);if(!playUrlMatch){console.log('未找到播放链接');return{playlist:[]}}let playUrl=playUrlMatch[1];console.log('播放链接:', playUrl);return{playlist:[{title:\"默认分组\",videos:[{text:\"播放\",url:playUrl}]}]}",
      "search": "const keyword=env.get(\"keyword\");const page=env.get(\"page\");console.log('search: keyword='+keyword+', page='+page);const encodedKeyword=encodeURIComponent(keyword);const url=`${env.baseUrl}/search/${encodedKeyword}/?mode=async&function=get_block&block_id=list_videos_videos_list_search_result&q=${encodedKeyword}&sort_by=&from=${page}&_=${Date.now()}`;console.log('搜索URL:', url);const html=await req(url,{headers:{\"User-Agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36\"}});const $=kitty.load(html);const movies=[];$('#list_videos_videos_list_search_result .container .row > div').each((_,element)=>{const href=$(element).find('.title a').attr('href');const title=$(element).find('.title a').text();const cover=$(element).find('.img-box img').attr('data-src');const duration=$(element).find('.label').text();movies.push({id:href??\"\",cover:cover??\"\",title:title,remark:duration})});console.log('搜索到的视频数量:', movies.length);return movies",
      "parseIframe": "return kitty.utils.getM3u8WithIframe(env)"
    }
  }
},
  {
    "id": "51XG",
    "name": "51XG(T4)",
    "api": "https://learnpython.ggff.net/51XG",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "91RB",
    "name": "91RB(T4)",
    "api": "https://learnpython.ggff.net/91RB",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "91rb1",
    "name": "91rb1(T4)",
    "api": "https://learnpython.ggff.net/91rb1",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "DSYS",
    "name": "DSYS(T4)",
    "api": "https://learnpython.ggff.net/DSYS",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "Xhamster",
    "name": "Xhamster(T4)",
    "api": "https://learnpython.ggff.net/Xhamster",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "Xhm",
    "name": "Xhm(T4)",
    "api": "https://learnpython.ggff.net/Xhm",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "Xvd",
    "name": "Xvd(T4)",
    "api": "https://learnpython.ggff.net/Xvd",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "Xvideos",
    "name": "Xvideos(T4)",
    "api": "https://learnpython.ggff.net/Xvideos",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "Javxx",
    "name": "Javxx(T4)",
    "api": "https://learnpython.ggff.net/javxx",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "Javxbb",
    "name": "Javxbb(T4)",
    "api": "https://learnpython.ggff.net/javxbb",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "Lav",
    "name": "Lav(T4)",
    "api": "https://learnpython.ggff.net/lav",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
    {
    "id": "LavAPP",
    "name": "LavAPP(T4)",
    "api": "https://learnpython.ggff.net/lavAPP",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
    {
    "id": "911",
    "name": "911(T4)",
    "api": "https://learnpython.ggff.net/911",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "BLSP",
    "name": "BLSP(T4)",
    "api": "https://learnpython.ggff.net/BLSP",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "HSTV",
    "name": "HSTV(T4)",
    "api": "https://learnpython.ggff.net/HSTV",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "PT",
    "name": "PT(T4)",
    "api": "https://learnpython.ggff.net/PT",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
    {
    "id": "Pornhub",
    "name": "Pornhub(T4)",
    "api": "https://learnpython.ggff.net/Pornhub",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
    {
    "id": "XJ",
    "name": "XJ(T4)",
    "api": "https://learnpython.ggff.net/XJ",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
   {
    "id": "a1",
    "name": "a1(T4)",
    "api": "https://learnpython.ggff.net/a1",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "py_missav",
    "name": "py_missav(T4)",
    "api": "https://learnpython.ggff.net/py_missav",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "py_rou",
    "name": "py_rou(T4)",
    "api": "https://learnpython.ggff.net/py_rou",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  },
  {
    "id": "py_avdb",
    "name": "py_avdb(T4)",
    "api": "http://zhangqun1818.serv00.net/229_1.php",
    "nsfw": true,
    "type": 1,
    "extra": {
    "template": "t4"
    }
  },
  {
    "id": "py_ThePorn",
    "name": "py_ThePorn(T4)",
    "api": "https://learnpython.ggff.net/ThePorn",
    "nsfw": true,
    "type": 1,
    "extra": {
    "template": "t4"
    }
  },
  {
    "id": "py_FMPY",
    "name": "py_FMPY(T4)",
    "api": "https://learnpython.ggff.net/FMPY",
    "nsfw": true,
    "type": 1,
    "extra": {
    "template": "t4"
    }
  },
  {
    "id": "py_SBJH",
    "name": "py_SBJH(T4)",
    "api": "https://learnpython.ggff.net/SBJH",
    "nsfw": true,
    "type": 1,
    "extra": {
    "template": "t4"
    }
  },
  {
    "id": "py_SIHUSP",
    "name": "py_SIHUSP(T4)",
    "api": "https://learnpython.ggff.net/SIHUSP",
    "nsfw": true,
    "type": 1,
    "extra": {
    "template": "t4"
    }
  },
  {
    "id": "py_HLBTY",
    "name": "py_HLBTY(T4)",
    "api": "https://learnpython.ggff.net/HLBTY",
    "nsfw": true,
    "type": 1,
    "extra": {
    "template": "t4"
    }
  },
  {
    "id": "py_cam4",
    "name": "py_cam4(T4)",
    "api": "https://learnpython.ggff.net/cam4",
    "nsfw": true,
    "type": 1,
    "extra": {
    "template": "t4"
    }
  },
  {
    "id": "py_rsp",
    "name": "py_rsp(T4)",
    "api": "https://learnpython.ggff.net/rsp",
    "nsfw": true,
    "type": 1,
    "extra": {
    "template": "t4"
    }
  },
  {
    "id": "py_y_139fm",
    "name": "py_y_139fm(T4)",
    "api": "https://learnpython.ggff.net/y_139fm",
    "nsfw": true,
    "type": 1,
    "extra": {
    "template": "t4"
    }
  },
  {
    "id": "epo",
    "name": "epo(T4)",
    "api": "https://learnpython.ggff.net/epo",
    "nsfw": true,
    "type": 1,
    "extra": {
      "template": "t4"
    }
  }

]
























